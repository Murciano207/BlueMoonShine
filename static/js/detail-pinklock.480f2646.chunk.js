(this["webpackJsonppink-sale"]=this["webpackJsonppink-sale"]||[]).push([[15],{1330:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n(1),r=n(55),s=n(912),o=n(825),i=n(847),l=n(10),d=n(3),b=function(e){var t=e.tvl,n=e.amount,c=e.address,r=e.isLpToken,b=e.tokenDecimals,u=e.tokenName,j=e.tokenSymbol,O=e.token0,v=e.token1,m=e.loading,x=e.dex,h=Object(i.a)(),k=Object(a.useMemo)((function(){return!m&&n&&b?r?Object(l.b)(Object(l.m)(null!==n&&void 0!==n?n:"0",18)):"".concat(Object(l.b)(Object(l.m)(null!==n&&void 0!==n?n:"0",Number(b)))," ").concat(j):"-"}),[r,m,b,j,n]);return Object(d.jsx)(s.a,{title:"Lock info",children:Object(d.jsx)(o.a,{spinning:m,children:Object(d.jsx)("div",{className:"table-container",children:Object(d.jsxs)("table",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Total Amount Locked"}),Object(d.jsx)("td",{className:"has-text-right",children:k})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Total Values Locked"}),Object(d.jsxs)("td",{className:"has-text-right",children:["$",t||0]})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"".concat(r?"Liquidity Address":"Token Address")}),Object(d.jsx)("td",{className:"has-text-right",children:m?"-":Object(d.jsx)("a",{href:"".concat(h,"/address/").concat(c),target:"_blank",rel:"noreferrer nofollow",children:c})})]}),r?Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Pair Name"}),Object(d.jsx)("td",{className:"has-text-right",children:m?"-":Object(d.jsxs)("a",{href:"".concat(h,"/address/").concat(c),target:"_blank",rel:"noreferrer nofollow",children:[null===O||void 0===O?void 0:O.symbol,"/",null===v||void 0===v?void 0:v.symbol]})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Token Name"}),Object(d.jsx)("td",{className:"has-text-right",children:m?"-":u})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Token Symbol"}),Object(d.jsx)("td",{className:"has-text-right",children:m?"-":j})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Token Decimals"}),Object(d.jsx)("td",{className:"has-text-right",children:m?"-":b})]})]}),x?Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Dex"}),Object(d.jsx)("td",{className:"has-text-right",children:x})]}):null]})})})})},u=n(882),j=n(965),O=n.n(j),v=function(){return Object(d.jsx)("ul",{className:"ant-list-items",children:Object(d.jsxs)("li",{className:"ant-list-item",children:[Object(d.jsx)("div",{className:O.a.tvl,children:Object(d.jsx)("strong",{children:"Wallet address"})}),Object(d.jsx)("div",{className:O.a.tvl,children:Object(d.jsx)("strong",{children:"Amount"})}),Object(d.jsx)("div",{className:O.a.tvl,children:Object(d.jsx)("strong",{children:"Unlock time"})}),Object(d.jsx)("div",{style:{opacity:0},children:"View"})]})})},m=n(964),x=function(e){var t=e.loading,n=e.data,c=e.isLpToken,a=e.tokenDecimals,r=e.count,i=e.itemsPerPage,l=e.onPageChange;return Object(d.jsx)("div",{className:O.a.root,children:Object(d.jsxs)(s.a,{title:"Lock records",children:[Object(d.jsxs)(o.a,{spinning:t,children:[Object(d.jsx)(v,{}),Object(d.jsx)(m.a,{data:null!==n&&void 0!==n?n:[],isLpToken:c,tokenDecimals:a})]}),r>1&&Object(d.jsx)("div",{className:"has-text-centered mt-4",children:Object(d.jsx)(u.a,{defaultCurrent:1,pageSize:i,total:r,showSizeChanger:!1,onChange:l})})]})})},h=n(6),k=n.n(h),f=n(35),p=n(4),g=n(21),N=n(873),S=n(100);var L=function(e){var t=Object(a.useState)(),n=Object(c.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(),i=Object(c.a)(o,2),l=i[0],d=i[1],b=Object(g.i)(),u=Object(g.c)(),j=Object(S.r)(b),O=Object(a.useCallback)((function(){Object(f.a)(k.a.mark((function t(){var n,c,a,r,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.prev=1,d(!0),t.next=5,j.methods.cumulativeLockInfo(e).call();case 5:return c=t.sent,n.token=c.token,n.amount=c.amount,n.factory=c.factory,t.next=11,j.methods.totalLockCountForToken(c.token).call();case 11:return n.numberOfLocks=t.sent,n.isLpToken=c.factory!==p.a.ZERO_ADDRESS,t.next=15,Object(N.b)(c.token,b,u);case 15:if(a=t.sent,n.tokenInfo={name:a.name,symbol:a.symbol,decimals:a.decimals},!n.isLpToken){t.next=24;break}return t.next=20,Object(N.a)(c.token,b,u);case 20:o=t.sent,n.token0Info=o.token0Info,n.token1Info=o.token1Info,n.dex=null===(r=p.a.ANTIBOT_ROUTERS["".concat(u)].find((function(e){return e.factory===c.factory})))||void 0===r?void 0:r.name;case 24:s(n),t.next=29;break;case 27:t.prev=27,t.t0=t.catch(1);case 29:return t.prev=29,d(!1),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[1,27,29,32]])})))()}),[e,u,j.methods,b]);return Object(a.useEffect)((function(){O()}),[O]),{loading:l,value:r}};var T=function(e,t,n){var r=Object(g.i)(),s=Object(S.r)(r),o=Object(a.useState)(),i=Object(c.a)(o,2),l=i[0],d=i[1],b=Object(a.useState)(!1),u=Object(c.a)(b,2),j=u[0],O=u[1],v=Object(a.useCallback)((function(){e&&Object(f.a)(k.a.mark((function a(){var r,o;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,"0"!==s.methods.totalLockCountForToken(e).call()){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,s.methods.getLocksForToken(e,t,n).call();case 6:o=a.sent,d((null!==(r=null===o||void 0===o?void 0:o.map((function(e){var t=Object(c.a)(e,6);return{id:t[0],token:t[1],owner:t[2],amount:t[3],lockDate:t[4],unlockDate:t[5]}})))&&void 0!==r?r:[]).reverse()),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(0);case 12:return a.prev=12,O(!1),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,10,12,15]])})))()}),[e,s.methods,n,t]);return Object(a.useEffect)((function(){v()}),[v]),{value:l,loading:j}},w=n(966);t.default=function(){var e,t,n,s,o,i=Object(r.g)().id,l=L(i),u=l.value,j=l.loading,O=Object(S.D)(),v=Object(a.useState)(1),m=Object(c.a)(v,2),h=m[0],k=m[1],f=T(null===u||void 0===u?void 0:u.token,20*(h-1),20*h-1),p=Object(a.useCallback)((function(e){return k(e)}),[]),g=Object(w.a)(i,O,null===u||void 0===u?void 0:u.amount,null===u||void 0===u?void 0:u.isLpToken);return Object(d.jsx)("div",{className:"mt-5 p-6 container",children:Object(d.jsx)("div",{className:"columns",children:Object(d.jsxs)("div",{className:"column is-flex-grow-5",children:[Object(d.jsx)(b,{address:null===u||void 0===u?void 0:u.token,amount:null===u||void 0===u?void 0:u.amount,tvl:g,isLpToken:null===u||void 0===u?void 0:u.isLpToken,tokenName:null===u||void 0===u||null===(e=u.tokenInfo)||void 0===e?void 0:e.name,tokenSymbol:null===u||void 0===u||null===(t=u.tokenInfo)||void 0===t?void 0:t.symbol,tokenDecimals:null===u||void 0===u||null===(n=u.tokenInfo)||void 0===n?void 0:n.decimals,loading:j,token0:null===u||void 0===u?void 0:u.token0Info,token1:null===u||void 0===u?void 0:u.token1Info,dex:null===u||void 0===u?void 0:u.dex}),Object(d.jsx)(x,{loading:f.loading,data:f.value,isLpToken:null===u||void 0===u?void 0:u.isLpToken,tokenDecimals:null===u||void 0===u||null===(s=u.tokenInfo)||void 0===s?void 0:s.decimals,count:Number(null!==(o=null===u||void 0===u?void 0:u.numberOfLocks)&&void 0!==o?o:0),itemsPerPage:20,onPageChange:p})]})})})}},966:function(e,t,n){"use strict";var c=n(6),a=n.n(c),r=n(35),s=n(16),o=n(4),i=n(21),l=n(100),d=n(198),b=n(180),u=n(39),j=n(1),O=n(291),v=n(10),m=n(292);t.a=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],x=Object(j.useState)("0"),h=Object(s.a)(x,2),k=h[0],f=h[1],p=Object(d.a)(),g=Object(m.a)(),N=Object(i.c)(),S=Object(i.i)(),L=Object(l.E)(),T=Object(j.useCallback)((function(){Object(r.a)(a.a.mark((function c(){var r,i,d,j,O,m,x,h,k,g,L,T,w,y,C,D,I,E,A;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,e&&t&&n){c.next=3;break}return c.abrupt("return");case 3:return r=Object(l.e)(t,S),c.next=6,r.methods.WETH().call();case 6:return i=c.sent,c.next=9,r.methods.factory().call();case 9:return d=c.sent,j=Object(l.c)(d,S),c.next=13,j.methods.getPair(e,i).call();case 13:if((O=c.sent)!==o.a.ZERO_ADDRESS){c.next=16;break}return c.abrupt("return");case 16:return m=Object(l.d)(O,S),x=[{address:O,name:"token0"}],c.next=20,m.methods.getReserves().call();case 20:return h=c.sent,k=h._reserve0,g=h._reserve1,c.next=25,Object(b.a)(o.a.contract.nativeTokenPair.ABI,x,{web3:S},N);case 25:if(L=c.sent,T=Object(s.a)(L,1),w=Object(s.a)(T[0],1),y=w[0],D=y===e?k:g,"0"!==(C=y===e?g:k)||"0"!==D){c.next=33;break}return c.abrupt("return");case 33:I=Object(u.d)(C,0).mul(Object(u.c)("1")).div(Object(u.d)(D,0)),E=I.mul(Object(u.d)(n,0)).div(Object(u.c)("1")),A=Number((p*Number(Object(v.l)(E.toString(),18))).toFixed(0)).toLocaleString("en-US"),f(A),c.next=41;break;case 39:c.prev=39,c.t0=c.catch(0);case 41:case"end":return c.stop()}}),c,null,[[0,39]])})))()}),[e,t,n,S,N,p]),w=Object(j.useCallback)((function(){Object(r.a)(a.a.mark((function t(){var c,r,i,d,j,m,x,h,k,T,w,y,C,D,I,E,A,P,R,_,F,U,B;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n&&e&&e!==o.a.ZERO_ADDRESS){t.next=3;break}return t.abrupt("return");case 3:return c=Object(l.d)(e,S),r=[{address:e,name:"token0"},{address:e,name:"token1"}],t.next=7,c.methods.getReserves().call();case 7:return i=t.sent,d=i._reserve0,j=i._reserve1,t.next=12,Object(b.a)(o.a.contract.nativeTokenPair.ABI,r,{web3:S},N);case 12:return m=t.sent,x=Object(s.a)(m,2),h=Object(s.a)(x[0],1),k=h[0],T=Object(s.a)(x[1],1),w=T[0],t.next=20,Object(b.a)(O,[{address:e,name:"totalSupply"}],{web3:S},N);case 20:if(y=t.sent,C=Object(s.a)(y,1),D=Object(s.a)(C[0],1),I=D[0],!(k===g.address||w===g.address)){t.next=35;break}if("0"!==(E=k===g.address?d:j)){t.next=29;break}return t.abrupt("return");case 29:A=Object(u.d)(E,0).mul(Object(u.d)("2",0)).mul(Object(u.c)("1")),P=A.div(Object(u.d)(I.toString(),0)).mul(Object(u.d)(n,0)).div(Object(u.c)("1")),R=Number((p*Number(Object(v.l)(P.toString(),18))).toFixed(0)).toLocaleString("en-US"),f(R),t.next=42;break;case 35:if("0"!==(_=L.map((function(e){return e.toLowerCase()})).includes(k.toLowerCase())?d:L.map((function(e){return e.toLowerCase()})).includes(w.toLowerCase())?j:"0")){t.next=38;break}return t.abrupt("return");case 38:F=Object(u.d)(_,0).mul(Object(u.d)("2",0)).mul(Object(u.c)("1")),U=F.div(Object(u.d)(I.toString(),0)).mul(Object(u.d)(n,0)).div(Object(u.c)("1")),B=Number((1*Number(Object(v.l)(U.toString(),18))).toFixed(0)).toLocaleString("en-US"),f(B);case 42:t.next=46;break;case 44:t.prev=44,t.t0=t.catch(0);case 46:case"end":return t.stop()}}),t,null,[[0,44]])})))()}),[n,e,S,N,g.address,p,L]);return Object(j.useEffect)((function(){c?w():T()}),[w,T,c]),k}}}]);